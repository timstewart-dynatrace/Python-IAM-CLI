# dtiam CLI Environment Configuration
# Copy this file to .env and fill in your actual credentials
# IMPORTANT: .env files are in .gitignore - never commit real credentials!

# =============================================================================
# OAuth2 Authentication (Recommended)
# =============================================================================
# OAuth2 credentials auto-refresh tokens when expired.
# Best for automation, CI/CD, and long-running processes.

# OAuth2 Client ID (from Dynatrace Account > Identity & access management > OAuth clients)
DTIAM_CLIENT_ID=dt0s01.your-client-id-here

# OAuth2 Client Secret
DTIAM_CLIENT_SECRET=dt0s01.your-client-id.your-client-secret-here

# Dynatrace Account UUID (visible in account settings)
DTIAM_ACCOUNT_UUID=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx

# =============================================================================
# Bearer Token Authentication (Alternative)
# =============================================================================
# WARNING: Bearer tokens do NOT auto-refresh!
# Best for quick testing, debugging, one-off operations only.
# Comment out OAuth2 variables above if using bearer token.

# Static Bearer Token (from Dynatrace console)
# DTIAM_BEARER_TOKEN=dt0c01.your-bearer-token-here

# =============================================================================
# Optional Configuration
# =============================================================================

# Override current context (optional)
# DTIAM_CONTEXT=production

# Default output format: table, json, yaml, csv, wide (optional)
# DTIAM_OUTPUT=table

# Enable verbose mode (optional)
# DTIAM_VERBOSE=true

# Custom IAM API base URL (optional - for testing or different regions)
# DTIAM_API_URL=https://api.dynatrace.com/iam/v1

# =============================================================================
# Management Zones (Legacy - Optional)
# =============================================================================
# WARNING: Management zones are legacy and will be removed in a future release.
# Environment API token for management zone operations (optional)
# This is different from account-level OAuth2/bearer tokens
# DTIAM_ENVIRONMENT_TOKEN=dt0c01.your-environment-token-here

# =============================================================================
# Usage
# =============================================================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Edit with your credentials:
#    nano .env
#
# 3. Load variables:
#    source .env
#    # Or use a tool like direnv
#
# 4. Verify connection:
#    dtiam get groups
#
# =============================================================================
# Getting OAuth2 Credentials
# =============================================================================
#
# 1. Go to your Dynatrace Account
# 2. Navigate to: Identity & access management > OAuth clients
# 3. Click "Create client"
# 4. Select required scopes:
#    - account-idm-read / account-idm-write
#    - iam-policies-management
#    - account-env-read
#    - iam:effective-permissions:read
#    - iam:boundaries:read / iam:boundaries:write
#    - iam:limits:read
# 5. Copy the Client ID and Client Secret
# 6. Your Account UUID is visible in the account URL or settings
#
# =============================================================================
# Security Best Practices
# =============================================================================
#
# - Never commit .env files to version control
# - Use separate credentials for development and production
# - Rotate credentials periodically
# - Use minimal required scopes
# - Prefer OAuth2 over bearer tokens for automation
#
