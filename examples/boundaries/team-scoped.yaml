# Team-Scoped Boundary Example
#
# Restricts access to a specific team's management zones.
# Use to implement team-based access control.

name: "${TEAM_NAME}-boundary"
description: "Restrict access to ${TEAM_NAME} team's management zones"

# Placeholders:
#   ${TEAM_NAME} - Replace with your team name

# Management zones to include (team-specific)
zones:
  - "${TEAM_NAME}"
  - "${TEAM_NAME}-Dev"
  - "${TEAM_NAME}-Staging"

# CLI commands:
cli_commands:
  # Create team boundary
  create: |
    dtiam create boundary --name "platform-boundary" \
      --description "Restrict access to Platform team's management zones" \
      --zones "Platform,Platform-Dev,Platform-Staging"

  # Create binding with boundary
  create_binding_with_boundary: |
    dtiam create binding --group "Platform-Team" --policy "Pro User" --boundary "platform-boundary"

# Multi-team setup example:
multi_team_setup: |
  # Team 1: Platform
  dtiam create group --name "Platform-Team" --description "Platform engineering team"
  dtiam create boundary --name "platform-boundary" --zones "Platform,Platform-Dev"
  dtiam create binding --group "Platform-Team" --policy "Pro User" --boundary "platform-boundary"

  # Team 2: Frontend
  dtiam create group --name "Frontend-Team" --description "Frontend development team"
  dtiam create boundary --name "frontend-boundary" --zones "Frontend,Frontend-Dev"
  dtiam create binding --group "Frontend-Team" --policy "Pro User" --boundary "frontend-boundary"

  # Team 3: Backend
  dtiam create group --name "Backend-Team" --description "Backend services team"
  dtiam create boundary --name "backend-boundary" --zones "Backend,Backend-Dev"
  dtiam create binding --group "Backend-Team" --policy "Pro User" --boundary "backend-boundary"

  # Result: Each team has write access only to their zones

# Common pattern: Global read + scoped write
global_read_scoped_write: |
  # Give global read access (no boundary)
  dtiam create binding --group "Platform-Team" --policy "viewer-policy"

  # Give scoped write access (with boundary)
  dtiam create binding --group "Platform-Team" --policy "settings-writer" --boundary "platform-boundary"

  # Result: Team can read everything, but only write to their zones

# Benefits:
benefits:
  - Teams can only modify their own resources
  - Reduces risk of cross-team interference
  - Simplifies troubleshooting (clear ownership)
  - Supports organizational structure
